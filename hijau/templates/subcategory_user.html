{% extends 'base.html' %}

{% block navbar %}
    {% if user_role == 'Pekerja' %}
        {% include 'navbar_pekerja.html' %}
    {% else %}
        {% include 'navbar_pengguna.html' %}
    {% endif %}
{% endblock navbar %}

{% block content %}
<div class="container mx-auto p-6 bg-white rounded-lg shadow-lg mt-8 max-w-xl">
    <h1 class="text-3xl font-bold text-center text-gray-800 mb-6">{{ subcategory.name }}</h1>
    <p class="text-lg text-gray-600 mb-6"><strong>Kategori:</strong> {{ category_name }}</p>
    <p class="text-md text-gray-700 mb-6">{{ subcategory.description }}</p>

    <h2 class="text-2xl font-semibold text-gray-800 mb-4">Pilihan Sesi Layanan</h2>
    <ul class="list-disc space-y-4 text-gray-700">
        {% for session in sessions %}
            <li class="flex justify-between items-center">
                <span>{{ session.name }} - Rp {{ session.price }}</span>
                <a href="{% url 'create_pemesanan' %}?session_name={{ session.name }}&session_price={{ session.price }}" 
                   class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition duration-200">
                    Pesan
                </a>
            </li>
        {% endfor %}
    </ul>

    <h2 class="text-2xl font-semibold text-gray-800 mb-6 mt-8">Daftar Pekerja</h2>
    <ul class="space-y-4 text-gray-700">
        {% for worker in workers %}
            <li>
                <a href="{% url 'worker_detail' worker.id %}" class="text-blue-600 hover:text-blue-800 font-medium">
                    {{ worker.name }}
                </a>
            </li>
        {% endfor %}
    </ul>

    <h2 class="text-2xl font-semibold text-gray-800 mb-6 mt-8">Testimoni</h2>
    <ul class="space-y-4 text-gray-700">
        {% for testimonial in testimonials %}
            <li>
                <strong class="font-semibold">{{ testimonial.user_name }}</strong> 
                <span class="text-gray-500">({{ testimonial.date }})</span>: 
                <span class="italic">"{{ testimonial.text }}"</span><br>
                <span class="text-gray-600">Pekerja: {{ testimonial.worker_name }} | Rating: {{ testimonial.rating }}/5</span>
            </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
